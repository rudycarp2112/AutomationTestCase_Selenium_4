# FW is an organized way of maintain automation files. In the FW all the files will communicate each other to perform certain task.
# Goal:
# - Reusability
# - Maintainability
# types:
# 1- Buil-in: pytest, robotFrameWork, unittest, etc
# 2- Customized/user defined FW: DataDriven FW, Keyword FW, Hybrid driven FW
#
# Selenium Hybrid FW: Python, Selenium, PyTest, POM, HTML Reports.

# Phases before implement a FW:
# 1) analyze APP, technology & skill set of team, choose the TC but ¿How i choose the TC?
# Suppose we have 100 TC's, we will have two types of TC for automatized:
# - Re-TC (TDD)
# - Re-gression TC -> Test functionality that may affected by a new feature o change
# - TC that can be automatable
# ¿What it is 100%? Is automatized that TC can be automatized or if we are in condition to automatized all TC, this is impossible because we need much effort to make.\
#
# I think the TC that i need automatize are wich whom cover important scope of an funcionality of system most used.

# automate those test cases that cover the most important functions of each type of user of the system that are critical (main modules)
# and leave aside the support functionalities (or at least dedicate few automatized TC). Regarding the main modules, I need to automate those scenarios that users use the most
# to carry out their daily work. In this way, you would automate the test cases.

# The FW works with Backend of the APP.

# 2) Design and implementation the FW:
# 3) Execution
# 4) Maintain TC (version control system)

-------------------- Install FW

1) Install packages we required:
1- Selenium: Selenium libraries (OK)
2- Pytest: Python UnitTest FW (OK)
3- pytest-html: PyTest HTML reports
4- pytest-xdist: Run test Parallel
5- Openpyxl: MS Excel Support (OK)
6- Allure-pytest: To generate alluere reports

2) Create a Folder Structure:
a) pageObjects (package)
b) testCases (package)
c) utilities (package)
d) Reports (folder)
e) logs (folder)
f) TestData (folder)
g) Configurations (folder)
h) Screenshots (folder)

3) Automating Login TC:
    Create LoginPage Object Class under "PageObjects"
    Create LoginTest under "TestCases"
    Create conftest.py under "TestCases"

4) Capture screnshot of failures (up to here it was reached in the first class)
    Update loginTestCase winth screenshot under "TestCase"

5) Read common values from ini files (instead of have disperse all type of common variables as URL from TC we can create an trough ini file which we can call those variables) type of config file
    This is not for Test Data.
    1) Add "config.ini" file in configurations folder
    2) Create "readProperties.py" utility file under utilities package to read common data
    3) Replace hard coded values in Login Test Case. This manner we can a dynamic TC.

 If the tomorrow we want code more TC, its recommend go to the config.ini file and add
 all the variables we needed for each TC. And, of course, create a method who read those
 values in the readProperties file.

 6) Adding logs to the TC
    a) Add customerLogger.py under utilities package
    b) Add logs to Login TC

 7) Run test cases of desired browser/Cross Browser /Parallel Browser
    a) Update constest.py with required fixtures wich will accept command line argument (browser name)
    b) Pass browser name as argument in command line (use "pytest_addoption" in conftest file)

 To Run TC in desired browser: pytest -v -s NopCommerceApp_Hybrid_FW/testCases/test_login.py --browser chrome (Done)
 To Run parallel TC: pytest -v -s -n=2 NopCommerceApp_Hybrid_FW/testCases/test_login.py --browser chrome (Done)

  8) Generate pytest HTML Reports (pytest-html)
    a) Update "Confest.py" with pytest hooks
    b) To Generate html report run below command:
        pytest -s -v -n=2 --html=Reports\report.html testCases/test_login.py --browser chrome

    *** There is a problema because the lines of the log file arent adding to the HTML Report for each TC (see this case --> How to add detailes steps to HTML report PyTest)

  9) Automating Data Driven TC (up to here it was reached in the second class)
    a) Prepare test data in Excel Sheet, place the excel file inside the TestData folder
    b) Create "ExcelUtils.py" utility class under utilities packages
    c) Create loginDataDrivenTest under Test Case
    d) Run the TC

  10) Add new automatized TC (This is commonly what the companies assign you --> read documents --> understand FW --> programming TC)
    a) Add a new customer
    b) Search customer by email
    c) Search customer by name

   [At this point we have completed design and implementation of the FW]